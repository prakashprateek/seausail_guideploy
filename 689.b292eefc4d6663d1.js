"use strict";(self.webpackChunkseausailgui=self.webpackChunkseausailgui||[]).push([[689],{8167:(Z,I,o)=>{o.d(I,{l:()=>m});var f=o(7244),v=o(1571),s=o(3319);class m{constructor(a){this._baseService=a}ManageCategory(a){return this._baseService.post(f.G.admin.ManageCategory,a)}getCategory(a){return this._baseService.post(f.G.admin.GetProductCategoryList,a)}GetSpecification(a){return this._baseService.post(f.G.admin.GetSpecification,a)}ManageProduct(a){return this._baseService.post(f.G.admin.ManageProdct,a)}GetSpecificationTypes(a){return this._baseService.post(f.G.admin.GetSpecificationTypes,a)}SaveSpecification(a){return this._baseService.post(f.G.admin.SaveSpecification,a)}GetSpecificationsView(a){return this._baseService.post(f.G.admin.GetSpecificationsView,a)}GetCategoryMasterView(a){return this._baseService.post(f.G.admin.GetCategoryMasterView,a)}}m.\u0275fac=function(a){return new(a||m)(v.LFG(s.b))},m.\u0275prov=v.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})},6689:(Z,I,o)=>{o.r(I),o.d(I,{AdminRoutingModule:()=>S});var f=o(606),v=o(9415),s=o(4169),m=o(6895),i=o(1571);class a{}a.\u0275fac=function(g){return new(g||a)},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-admin"]],decls:2,vars:0,template:function(g,y){1&g&&(i.TgZ(0,"p"),i._uU(1,"admin works!"),i.qZA())},encapsulation:2});const T=[{path:"",children:[{path:"",component:a},{path:"category",loadChildren:()=>Promise.all([o.e(333),o.e(592),o.e(103)]).then(o.bind(o,103)).then(l=>l.CategoryModule)},{path:"manageproduct",loadChildren:()=>Promise.all([o.e(592),o.e(550)]).then(o.bind(o,2550)).then(l=>l.ManageProductModule)},{path:"specification",component:s.u},{path:"usermaster",loadChildren:()=>Promise.all([o.e(333),o.e(693)]).then(o.bind(o,7693)).then(l=>l.UsermasterModule)},{path:"specification",loadChildren:()=>Promise.all([o.e(592),o.e(468)]).then(o.bind(o,5468)).then(l=>l.SpecificationModule)},{path:"specificationview",loadChildren:()=>Promise.all([o.e(333),o.e(592),o.e(815)]).then(o.bind(o,8815)).then(l=>l.SpecificationviewModule)},{path:"**",component:v.l}]}];class S{}S.\u0275fac=function(g){return new(g||S)},S.\u0275mod=i.oAB({type:S}),S.\u0275inj=i.cJS({imports:[m.ez,f.Bz.forChild(T),f.Bz]})},4169:(Z,I,o)=>{function f(p,e,t,c,n,r,d){try{var u=p[r](d),h=u.value}catch(L){return void t(L)}u.done?e(h):Promise.resolve(h).then(c,n)}function v(p){return function(){var e=this,t=arguments;return new Promise(function(c,n){var r=p.apply(e,t);function d(h){f(r,c,n,d,u,"next",h)}function u(h){f(r,c,n,d,u,"throw",h)}d(void 0)})}}o.d(I,{u:()=>O});var s=o(433),m=o(1634),i=o(1571),a=o(606),T=o(8167),S=o(7185),l=o(3713),g=o(6895);function y(p,e){1&p&&(i.TgZ(0,"small",5),i._uU(1," Please Enter Specification Name! "),i.qZA())}function A(p,e){if(1&p){const t=i.EpF();i.TgZ(0,"label",11)(1,"input",18),i.NdJ("change",function(n){const d=i.CHM(t).$implicit,u=i.oxw();return i.KtG(u.handleChange(n,d.specificationType))}),i.qZA(),i._uU(2),i._UZ(3,"span"),i.qZA()}if(2&p){const t=e.$implicit;i.xp6(1),i.s9C("value",t.specificationTypeId),i.xp6(1),i.hij(" ",t.specificationType," ")}}function C(p,e){1&p&&(i.TgZ(0,"small",5),i._uU(1," Please Select SpecificationType.! "),i.qZA())}function N(p,e){1&p&&(i.TgZ(0,"small",5),i._uU(1," Please Select Is Optional.! "),i.qZA())}function U(p,e){1&p&&(i.TgZ(0,"small",5),i._uU(1," Please Select Status.! "),i.qZA())}function F(p,e){1&p&&(i.TgZ(0,"small",5),i._uU(1," Please Enter Specification Option.! "),i.qZA())}function b(p,e){if(1&p){const t=i.EpF();i.TgZ(0,"div",20)(1,"div",21),i._UZ(2,"input",22),i.TgZ(3,"a",17),i.NdJ("click",function(){const r=i.CHM(t).index,d=i.oxw(2);return i.KtG(d.deleteOption(r))}),i.TgZ(4,"span"),i._uU(5,"Remove"),i.qZA()(),i.YNc(6,F,2,0,"small",8),i.qZA()()}if(2&p){const t=e.index,c=i.oxw(2);i.xp6(1),i.Q6J("formGroupName",t),i.xp6(5),i.Q6J("ngIf",c.submitted&&c.SpecificationForm.controls.Options.controls[t].controls.spectionOptionName.errors&&c.SpecificationForm.controls.Options.controls[t].controls.spectionOptionName.hasError("required"))}}function G(p,e){if(1&p){const t=i.EpF();i.TgZ(0,"div",3)(1,"label"),i._uU(2,"Specification Option: "),i.TgZ(3,"span",5),i._uU(4,"*"),i.qZA()(),i.TgZ(5,"div",6),i.YNc(6,b,7,2,"div",19),i.TgZ(7,"a",17),i.NdJ("click",function(){i.CHM(t);const n=i.oxw();return i.KtG(n.addItem())}),i.TgZ(8,"span"),i._uU(9,"Add"),i.qZA()()()()}if(2&p){const t=i.oxw();i.xp6(6),i.Q6J("ngForOf",t.SpecificationForm.get("Options").controls)}}class O{constructor(e,t,c,n,r,d,u,h){this.formBuilder=e,this._route=t,this._router=c,this.fb=n,this._adminService=r,this.toastr=d,this._encryptedStorage=u,this._activatedRoute=h,this.submitted=!1,this.isShowOptions=!1,this.specificationTypesList=[],this.SpecificationForm=new s.cw({specificationId:new s.NI(0),SpecificationName:new s.NI("",[s.kI.required]),SpecificationType:new s.NI("",[s.kI.required]),IsOptional:new s.NI("",[s.kI.required]),IsActive:new s.NI("",[s.kI.required]),Options:new s.Oe([])})}ngOnInit(){this.GetSpecificationTypes().then(e=>{this._activatedRoute.paramMap.subscribe(t=>{let c=this._encryptedStorage.decrypt(t.get("specificationid"));this.SpecificationForm.get("specificationId").setValue(c),0!=c&&"0"!=c&&this.GetSpecification()})})}createItem(){return this.formBuilder.group({specificationOptionId:new s.NI(0),spectionOptionName:new s.NI("",[s.kI.required]),specificationId:new s.NI(0),IsActive:new s.NI(!0)})}addItem(){this.Options=this.SpecificationForm.get("Options"),this.Options.push(this.createItem())}removeItem(e){for(let t=0;t<=this.Options.controls.length-1;t++)t==e&&(this.Options.controls[t].get("IsActive").setValue(!1),this.SpecificationForm.controls.Options.controls[t].get("IsActive").setValue(!1))}handleChange(e,t="",c=!1){"MULTIVALUES"==t.toUpperCase()||"SINGLEVALUE"==t.toUpperCase()?(this.isShowOptions=!0,c||this.addItem()):this.isShowOptions=!1}onSubmit(){if(this.submitted=!0,this.SpecificationForm.valid){let e=[];if(this.isShowOptions)for(let t=0;t<=this.Options.controls.length-1;t++){let c={specificationOptionId:this.Options.controls[t].get("specificationOptionId").value,spectionOptionName:this.Options.controls[t].get("spectionOptionName").value,specificationId:this.Options.controls[t].get("specificationId").value,IsActive:this.Options.controls[t].get("IsActive").value};e.push(c)}this._encryptedStorage.get(m.d.UserId).then(t=>{this._adminService.SaveSpecification({userId:t,actionKey:"",dbOperation:"",objSpecificationInfo:{specificationId:this.SpecificationForm.value.specificationId,specificationName:this.SpecificationForm.value.SpecificationName,specificationTypeId:this.SpecificationForm.value.SpecificationType,specificationType:"",specificationIcon:"",isOptional:"1"==this.SpecificationForm.value.IsOptional,isActive:"1"==this.SpecificationForm.value.IsActive,objSpecificationOptionInfoList:e}}).subscribe(n=>{n.status>=1?("#ADDSUCCESS#"==n.message?n.message="Specification save successfully!":"#ALREADYEXISTS#"==n.message?n.message="Specification already exists!":"#UPDATESUCCESS#"==n.message&&(n.message="Specification successfully updated!"),1==n.status?(this.toastr.success("",n.message,{timeOut:5e3}),this._router.navigate(["/admin/specificationview"]).then(()=>{window.location.reload()})):this.toastr.error("",n.message,{timeOut:5e3})):this.toastr.error("",n.message,{timeOut:5e3})},n=>{console.log(n)})})}}_v(){return this.SpecificationForm.value}GetSpecificationTypes(){var e=this;return v(function*(){e._encryptedStorage.get(m.d.UserId).then(t=>{e._adminService.GetSpecificationTypes({UserId:t}).subscribe(n=>{n.objSpecificationTypeInfoList.length&&(e.specificationTypesList=n.objSpecificationTypeInfoList)},n=>{console.log(n)})})})()}onBackClick(){this._router.navigate(["/admin/specificationview"]).then(()=>{window.location.reload()})}deleteOption(e){this.Options.removeAt(e)}addNewInput(e){this.Options=this.SpecificationForm.get("Options");const t=this.formBuilder.group({specificationOptionId:new s.NI(0),spectionOptionName:new s.NI("",[s.kI.required]),specificationId:new s.NI(0),IsActive:new s.NI(!0)});this.Options.push(t)}GetSpecification(){var e=this;return v(function*(){e._encryptedStorage.get(m.d.UserId).then(t=>{let c={userId:t,actionKey:"",dbOperation:"",specificationId:e.SpecificationForm.get("specificationId").value};e._adminService.GetSpecification(c).subscribe(n=>{if(n.objSpecificationInfoList.length){e.handleChange("",n.objSpecificationInfoList[0].specificationType,!0),e.SpecificationForm.get("SpecificationName").setValue(n.objSpecificationInfoList[0].specificationName),e.SpecificationForm.get("SpecificationType").setValue(n.objSpecificationInfoList[0].specificationTypeId),e.SpecificationForm.get("IsOptional").setValue(n.objSpecificationInfoList[0].isOptional),e.SpecificationForm.get("IsActive").setValue(n.objSpecificationInfoList[0].isActive);for(let r=0;r<=n.objSpecificationInfoList[0].objSpecificationOptionInfoList.length-1;r++)e.addNewInput(r),e.Options.controls[r].get("specificationOptionId").setValue(n.objSpecificationInfoList[0].objSpecificationOptionInfoList[r].specificationOptionId),e.Options.controls[r].get("specificationId").setValue(n.objSpecificationInfoList[0].objSpecificationOptionInfoList[r].specificationId),e.Options.controls[r].get("spectionOptionName").setValue(n.objSpecificationInfoList[0].objSpecificationOptionInfoList[r].spectionOptionName),e.Options.controls[r].get("IsActive").setValue(n.objSpecificationInfoList[0].objSpecificationOptionInfoList[r].isActive)}},n=>{console.log(n)})})})()}}O.\u0275fac=function(e){return new(e||O)(i.Y36(s.qu),i.Y36(a.gz),i.Y36(a.F0),i.Y36(s.qu),i.Y36(T.l),i.Y36(S._W),i.Y36(l.P),i.Y36(a.gz))},O.\u0275cmp=i.Xpm({type:O,selectors:[["app-specification"]],decls:62,vars:7,consts:[[2,"max-width","400px","margin","auto"],[1,"popup-title"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form_group"],[1,"form-label"],[1,"text-danger"],[1,"form_area"],["type","text","id","SpecificationName","formControlName","SpecificationName","placeholder","","required","",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"inner_options"],["class","radio",4,"ngFor","ngForOf"],[1,"radio"],["type","radio","value","1","formControlName","IsOptional"],["type","radio","value","0","formControlName","IsOptional"],["type","radio","value","1","formControlName","IsActive"],["type","radio","value","0","formControlName","IsActive"],["class","form_group",4,"ngIf"],[1,"global_btn","primary_btn",3,"click"],["type","radio","formControlName","SpecificationType",3,"value","change"],["formArrayName","Options",4,"ngFor","ngForOf"],["formArrayName","Options"],[3,"formGroupName"],["type","text","formControlName","spectionOptionName","placeholder","Option"]],template:function(e,t){1&e&&(i.ynx(0),i.TgZ(1,"div",0)(2,"h5",1),i._uU(3," Add Modify Specification Master "),i.qZA(),i.TgZ(4,"form",2),i.NdJ("ngSubmit",function(){return t.onSubmit()}),i.TgZ(5,"div",3)(6,"label",4),i._uU(7,"Specification Name: "),i.TgZ(8,"span",5),i._uU(9,"*"),i.qZA()(),i.TgZ(10,"div",6),i._UZ(11,"input",7),i.YNc(12,y,2,0,"small",8),i.qZA()(),i.TgZ(13,"div",3)(14,"label"),i._uU(15,"Specification Type: "),i.TgZ(16,"span",5),i._uU(17,"*"),i.qZA()(),i.TgZ(18,"div",6)(19,"div",9),i.YNc(20,A,4,2,"label",10),i.qZA(),i.YNc(21,C,2,0,"small",8),i.qZA()(),i.TgZ(22,"div",3)(23,"label"),i._uU(24,"Is Optional: "),i.TgZ(25,"span",5),i._uU(26,"*"),i.qZA()(),i.TgZ(27,"div",6)(28,"div",9)(29,"label",11),i._UZ(30,"input",12),i._uU(31," Yes "),i._UZ(32,"span"),i.qZA(),i.TgZ(33,"label",11),i._UZ(34,"input",13),i._uU(35," No "),i._UZ(36,"span"),i.qZA()(),i.YNc(37,N,2,0,"small",8),i.qZA()(),i.TgZ(38,"div",3)(39,"label"),i._uU(40,"Status: "),i.TgZ(41,"span",5),i._uU(42,"*"),i.qZA()(),i.TgZ(43,"div",6)(44,"div",9)(45,"label",11),i._UZ(46,"input",14),i._uU(47," Yes "),i._UZ(48,"span"),i.qZA(),i.TgZ(49,"label",11),i._UZ(50,"input",15),i._uU(51," No "),i._UZ(52,"span"),i.qZA()(),i.YNc(53,U,2,0,"small",8),i.qZA()(),i.YNc(54,G,10,1,"div",16),i.TgZ(55,"div",3)(56,"a",17),i.NdJ("click",function(){return t.onSubmit()}),i.TgZ(57,"span"),i._uU(58,"Save"),i.qZA()(),i.TgZ(59,"a",17),i.NdJ("click",function(){return t.onBackClick()}),i.TgZ(60,"span"),i._uU(61,"Back"),i.qZA()()()()(),i.BQk()),2&e&&(i.xp6(4),i.Q6J("formGroup",t.SpecificationForm),i.xp6(8),i.Q6J("ngIf",t.submitted&&t.SpecificationForm.get("SpecificationName").errors&&t.SpecificationForm.get("SpecificationName").hasError("required")),i.xp6(8),i.Q6J("ngForOf",t.specificationTypesList),i.xp6(1),i.Q6J("ngIf",t.submitted&&t.SpecificationForm.get("SpecificationType").errors&&t.SpecificationForm.get("SpecificationType").hasError("required")),i.xp6(16),i.Q6J("ngIf",t.submitted&&t.SpecificationForm.get("IsOptional").errors&&t.SpecificationForm.get("IsOptional").hasError("required")),i.xp6(16),i.Q6J("ngIf",t.submitted&&t.SpecificationForm.get("IsActive").errors&&t.SpecificationForm.get("IsActive").hasError("required")),i.xp6(1),i.Q6J("ngIf",t.isShowOptions))},dependencies:[g.sg,g.O5,s._Y,s.Fj,s._,s.JJ,s.JL,s.Q7,s.sg,s.u,s.x0,s.CE],encapsulation:2})}}]);